<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>dodgr_to_sfc — dodgr_to_sfc • dodgr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="dodgr_to_sfc — dodgr_to_sfc" />
<meta property="og:description" content="Convert a dodgr graph into a list composed of
two objects: dat, a data.frame; and
geometry, an sfc object from the (sf) package.
Works by aggregating edges into LINESTRING
objects representing longest sequences between all junction nodes. The
resultant objects will generally contain more LINESTRING objects than
the original sf object, because the former will be bisected at every
junction point." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dodgr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.12.019</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ATFutures/dodgr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>dodgr_to_sfc</h1>
    <small class="dont-index">Source: <a href='https://github.com/ATFutures/dodgr/blob/master/R/graph-conversion.R'><code>R/graph-conversion.R</code></a></small>
    <div class="hidden name"><code>dodgr_to_sfc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert a <code>dodgr</code> graph into a <code>list</code> composed of
two objects: <code>dat</code>, a <code>data.frame</code>; and
<code>geometry</code>, an <code>sfc</code> object from the (<span class="pkg">sf</span>) package.
Works by aggregating edges into <code>LINESTRING</code>
objects representing longest sequences between all junction nodes. The
resultant objects will generally contain more <code>LINESTRING</code> objects than
the original <span class="pkg">sf</span> object, because the former will be bisected at every
junction point.</p>
    </div>

    <pre class="usage"><span class='fu'>dodgr_to_sfc</span><span class='op'>(</span><span class='va'>graph</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>graph</th>
      <td><p>A <code>dodgr</code> graph</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing (1) A <code>data.frame</code> of data associated with the
<code>sf</code> geometries; and (ii) A Simple Features Collection (<code>sfc</code>) list of
<code>LINESTRING</code> objects.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The output of this function corresponds to the edges obtained from
<code>dodgr_contract_graph</code>. This function does not require the <span class="pkg">sf</span> package
to be installed; the corresponding function that creates a full <span class="pkg">sf</span>
object - <a href='dodgr_to_sf.html'>dodgr_to_sf</a> does requires <span class="pkg">sf</span> to be installed.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other conversion: 
<code><a href='dodgr_to_igraph.html'>dodgr_to_igraph</a>()</code>,
<code><a href='dodgr_to_sf.html'>dodgr_to_sf</a>()</code>,
<code><a href='dodgr_to_tidygraph.html'>dodgr_to_tidygraph</a>()</code>,
<code><a href='igraph_to_dodgr.html'>igraph_to_dodgr</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>hw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='weight_streetnet.html'>weight_streetnet</a></span> <span class='op'>(</span><span class='va'>hampi</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>hw</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 6813</div><div class='input'><span class='va'>xy</span> <span class='op'>&lt;-</span> <span class='fu'>dodgr_to_sfc</span> <span class='op'>(</span><span class='va'>hw</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>old-style crs object detected; please recreate object with a recent sf::st_crs()</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span> <span class='op'>(</span><span class='va'>hw</span><span class='op'>)</span> <span class='co'># 5.845 edges</span>
</div><div class='output co'>#&gt; [1] 6813   15</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span> <span class='op'>(</span><span class='va'>xy</span><span class='op'>$</span><span class='va'>geometry</span><span class='op'>)</span> <span class='co'># more linestrings aggregated from those edges</span>
</div><div class='output co'>#&gt; [1] 760</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span> <span class='op'>(</span><span class='va'>hampi</span><span class='op'>)</span> <span class='co'># than the 191 linestrings in original sf object</span>
</div><div class='output co'>#&gt; [1] 236</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span> <span class='op'>(</span><span class='va'>xy</span><span class='op'>$</span><span class='va'>dat</span><span class='op'>)</span> <span class='co'># same number of rows as there are geometries</span>
</div><div class='output co'>#&gt; [1] 760  15</div><div class='input'><span class='co'># The dodgr_to_sf function then just implements this final conversion:</span>
<span class='co'># sf::st_sf (xy$dat, geometry = xy$geometry, crs = 4326)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mark Padgham, Andreas Petutschnig.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


